<html>
<head>
<script src="http://127.0.0.1/socket.io/socket.io.js" >
</script>
<script
src="https://code.jquery.com/jquery-3.3.1.min.js"
integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
crossorigin="anonymous"></script>
</head>
<body>
    <div id="page"></div>
        <script>
           
            var decoder = new TextDecoder('utf-8');
                var socket = io.connect('http://127.0.0.1');
                socket.on('render', (pageHTML) => {
                    var page = document.getElementById("page");
                    page.innerHTML = decoder.decode(pageHTML);

                 
                });
                $(document).on('click', 'a', (event) => {
                    event.preventDefault();
                    var href = event.target.href.split('/');
                    var length = href.length - 1;
                    socket.emit('get', href[length]);
                });
           
            </script>
</body>
</html>
